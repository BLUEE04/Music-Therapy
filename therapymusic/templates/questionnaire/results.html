{% extends 'base.html' %}

{% block title %}Resultados do Questionário{% endblock %}

{% block content %}

    <div class="results-container">

        <h2>Resultados do Seu Questionário</h2>

        <div class="mood-indicator">
            {{ questionnaire.mood|floatformat:1 }}
        </div>

        {% if playlist %}

            <div class="playlist-section">

                <h3>Sua Playlist Personalizada</h3>

                <div class="playlist-card">

                    <h4>{{ playlist.title }}</h4>
                    <p class="playlist-description">{{ playlist.description }}</p>
                    
                    <div class="songs-list">
                        <h5>Músicas Recomendadas:</h5>
                        <ul>
                            {% for song in playlist.songs %}
                                <li>{{ song }}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="mood-details">
                        <p><strong>Categoria de Humor:</strong> {{ playlist.mood_category|title }}</p>
                        <p><strong>Data de Criação:</strong> {{ playlist.created_at|date:"d/m/Y H:i" }}</p>
                    </div>

                </div>

            </div>

        {% endif %}

        <div class="action-buttons">
            <a href="{% url 'questionnaire' %}" class="btn-secondary">Novo Questionário</a>
            <a href="{% url 'playlists' %}" class="btn-primary">Ver Todas as Playlists</a>
        </div>
        
    </div>

{% endblock %}
